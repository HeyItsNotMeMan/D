local RodToUse = "Wooden Rod" -- Put your rod name here

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

local RS = ReplicatedStorage:WaitForChild("RS")
local Remotes = RS:WaitForChild("Remotes")
local Misc = Remotes:WaitForChild("Misc")

local FishClockRemote = Misc:WaitForChild("FishClock")
local FishStateRemote = Misc:WaitForChild("FishState")

local function getRod()
    local backpack = player:WaitForChild("Backpack")
    return backpack:WaitForChild(RodToUse)
end

local function startFishing()
    while true do
        local rod = getRod()
        local args = {
            rod,
            [3] = Vector3.new(-181019.875, 400, 12256.998046875)
        }
        FishClockRemote:FireServer(unpack(args))

        local playerFolder = workspace:WaitForChild(player.Name)
        repeat
            task.wait(0.1)
        until playerFolder:FindFirstChild("FishBiteGoal") or not player.Character or not player.Character:FindFirstChild("Humanoid") or player.Character.Humanoid.Health <= 0

        if not playerFolder:FindFirstChild("FishBiteGoal") then
            break
        end

        while playerFolder:FindFirstChild("FishBiteGoal") do
            if not player.Character or not player.Character:FindFirstChild("Humanoid") or player.Character.Humanoid.Health <= 0 then
                break
            end
            for i = 1, 5 do
                FishStateRemote:FireServer("Reel")
                task.wait(0.1)
            end
        end

        if not player.Character or not player.Character:FindFirstChild("Humanoid") or player.Character.Humanoid.Health <= 0 then
            break
        end
    end
end

local function onCharacterAdded(char)
    local humanoid = char:WaitForChild("Humanoid")
    humanoid.Died:Connect(function()
    end)

    while true do
        startFishing()
        repeat
            task.wait(0.5)
        until player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0
    end
end

if player.Character then
    onCharacterAdded(player.Character)
end
player.CharacterAdded:Connect(onCharacterAdded)
